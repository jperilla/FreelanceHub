@model IEnumerable<Web.Models.SearchResult>

<section id="search_results">
@if (Model.Count() > 0)
{
    
    using (@Ajax.BeginForm("BingSearchNext", "Search", new AjaxOptions { HttpMethod = "Post", UpdateTargetId = "message" }))
    {      
        
    
    }  
    
     
    <table class="minimalist" cellpadding="0" cellspacing="0">
        
        <tbody>
   
        @foreach (var item in Model)
        {        
            <tr>
                <td>
                    <a class="search-result-title" href="@item.Url" target="_blank">@Html.Raw(@item.Title)</a><br />              
                    <a href="@item.DisplaySite" target="_blank">@Html.Raw(@item.DisplaySite)</a>
                </td>
                <td>
                    @Ajax.ActionLink("Apply", "RedirectDisclaimer", "Search", @item, new AjaxOptions { HttpMethod = "Post" }, new { @class = "red", target = "_blank" })
                </td>
                <td>
                    @Ajax.ActionLink("Save Job", "SaveBingJob", "Jobs", @item, new AjaxOptions { HttpMethod = "Post", UpdateTargetId =@item.ID.ToString(), InsertionMode = InsertionMode.Replace }, new { @class = "red", @onclick = "javascript: saving(@item.ID.ToString());" })
                    

                </td>
                <td>                
                    <span id="@item.ID" class="small_text" />
                </td>
            </tr>
        }

        </tbody>

    </table>
}
else
{
    <h2>No results were found try a different search.</h2>
}
</section>


<script type="text/javascript">
    $(function () {

        var saving = function (item) {
            $('span#' + item).html("Saving...").css('color', 'green');
        }

    });
</script>


